<h3 class="text-center mb-3 mt-4">Edit Transaction</h3>

<form action="{{ url_for('edit_transaction', txn_id=transaction['id']) }}" method="POST" class="p-3">
  <div class="mb-3">
    <label for="category" class="form-label fw-semibold">Category</label>
    <select name="category_id" id="category" class="form-select" required>
    <option value="" disabled>Select category</option>
    {% for cat in categories %}
      <option value="{{ cat.id }}" {% if cat.id == transaction['category_id'] %}selected{% endif %}>
        {{ cat.name }} ({{ cat.type|capitalize }})
      </option>
    {% endfor %}
</select>

  </div>

  <div class="mb-3">
    <label for="amount" class="form-label fw-semibold">Amount (â‚¹)</label>
    <input
      type="number"
      name="amount"
      id="amount"
      step="1"
      class="form-control"
      value="{{ transaction['amount'] }}"
      required
    >
  </div>

  <div class="mb-3">
    <label for="date" class="form-label fw-semibold">Date</label>
    <input
      type="date"
      name="date"
      id="date"
      class="form-control"
      required
      value="{{ transaction['date'][:10] }}"
    >
  </div>

  <div class="mb-4">
    <label for="note" class="form-label fw-semibold">Note</label>
    <input
      type="text"
      name="note"
      id="note"
      class="form-control"
      placeholder="Optional note"
      value="{{ transaction['note'] }}"
    >
  </div>

  <div class="d-flex justify-content-between">
    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
    <button type="submit" class="btn btn-primary">ðŸ’¾ Save Changes</button>
  </div>
</form>

<style>
  .modal-content {
    border-radius: 10px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.15);
    animation: fadeIn 0.3s ease;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: scale(0.95); }
    to { opacity: 1; transform: scale(1); }
  }

  h3 {
    color: #0d6efd;
  }
</style>
